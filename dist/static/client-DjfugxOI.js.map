{"version":3,"mappings":"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","names":["DOM_RENDERER","DOM_ERROR_HANDLER","DOM_STASH","DOM_INTERNAL_TAG","DOM_MEMO","setInternalTagFlag","fn","createContextProviderFunction","values","value","children","props","res","err","createContext","defaultValue","context","globalContexts","useContext","deDupeKeyMap","domRenderers","dataPrecedenceAttr","toArray","normalizeElementKeyMap","normalizeIntrinsicElementKey","key","styleObjectForEach","style","k","v","m","HONO_PORTAL_ELEMENT","eventAliasMap","nameSpaceMap","buildDataStack","refCleanupMap","nameSpaceContext","getNameSpaceContext","isNodeString","node","eventCache","getEventSpec","match","eventName","capture","toAttributeName","element","applyProps","container","attributes","oldAttributes","eventSpec","cleanup","nodeName","_a","invokeTag","func","getNextChildren","nextChildren","childrenToRemove","callbacks","_b","STASH_EFFECT","data","child","currentNextChildrenIndex","i","findInsertBefore","removeNode","_c","_d","n","_e","_f","updateMap","fallbackUpdateFnArrayMap","apply","isNew","applyNodeObject","findChildNodeIndex","childNodes","len","cancelBuild","next","remove","offset","insertBeforeNode","offsetByNextNode","el","isNewLocal","useLayoutEffectCbs","useEffectCbs","useLayoutEffectCb","useEffectCb","useInsertionEffectCb","cb","isSameContext","oldContexts","newContexts","ctx","build","buildWithPreviousChildren","foundErrorHandler","oldVChildren","vChildren","prevNode","buildNode","globalJSXContexts","c","oldChild","i2","pP","ns","p","e","errorHandlerContext","errorHandler","errorHandlerNode","fallbackUpdateFn","update","fallbackUpdateFnArray","fallback","fnArray","replaceContainer","from","to","updateSync","currentUpdateSets","existing","resolve","promise","r","context2","latest","renderNode","fragment","render","jsxNode","createPortal","STASH_SATE","STASH_CALLBACK","STASH_MEMO","resolvedPromiseValueMap","isDepsChanged","prevDeps","deps","dep","updateHook","pendingStack","useState","initialState","resolveInitialState","buildData","stateArray","hookIndex","newState","localUpdateHook","stateData","pendingType","pendingPromise","node2","lastVC","useCallback","callback","callbackArray","use","cachedRes","useMemo","factory","memoArray","FormContext","actions","registerAction","action","clearCache","blockingPromiseMap","createdElements","composeRef","ref","refCleanup","cbCleanup","documentMetadataTag","tag","preserveNodeType","supportSort","supportBlocking","head","onLoad","onError","precedence","blocking","restProps","created","deDupeKeys","existingElements","tags","LOOP","cacheKey","acc","insert","found","existingElement","reject","title","script","link","meta","customEventFormAction","form","state","setState","onSubmit","ev","currentAction","formData","actionRes","isDirty","formActionableElement","formAction","onClick","input","button","jsxDEV","intrinsicElementTags","Fragment","createElement","jsxProps","jsx","COMPONENT_NAME","COMPONENT_EXPORT","DATA_SERIALIZED_PROPS","DATA_HONO_TEMPLATE","createClient","options","FILES","hydrateComponent","document2","filePromises","filePath","componentName","elements","elementPromises","exportName","fileCallback","Component","serializedProps","hydrate","createElementHono","maybeTemplate","propKey","createChildren","buildCreateChildrenFn","__vitePreload","name","newElem","triggerHydration","hydrateComponent2","hydrateComponentHonoSuspense"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"sources":["../../node_modules/hono/dist/jsx/constants.js","../../node_modules/hono/dist/jsx/dom/utils.js","../../node_modules/hono/dist/jsx/dom/context.js","../../node_modules/hono/dist/jsx/context.js","../../node_modules/hono/dist/jsx/intrinsic-element/common.js","../../node_modules/hono/dist/jsx/children.js","../../node_modules/hono/dist/jsx/utils.js","../../node_modules/hono/dist/jsx/dom/render.js","../../node_modules/hono/dist/jsx/hooks/index.js","../../node_modules/hono/dist/jsx/dom/hooks/index.js","../../node_modules/hono/dist/jsx/dom/intrinsic-element/components.js","../../node_modules/hono/dist/jsx/dom/jsx-dev-runtime.js","../../node_modules/hono/dist/jsx/dom/index.js","../../node_modules/honox/dist/constants.js","../../node_modules/honox/dist/client/client.js","../../app/client.ts"],"sourcesContent":["// src/jsx/constants.ts\nvar DOM_RENDERER = Symbol(\"RENDERER\");\nvar DOM_ERROR_HANDLER = Symbol(\"ERROR_HANDLER\");\nvar DOM_STASH = Symbol(\"STASH\");\nvar DOM_INTERNAL_TAG = Symbol(\"INTERNAL\");\nvar DOM_MEMO = Symbol(\"MEMO\");\nvar PERMALINK = Symbol(\"PERMALINK\");\nexport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH,\n  PERMALINK\n};\n","// src/jsx/dom/utils.ts\nimport { DOM_INTERNAL_TAG } from \"../constants.js\";\nvar setInternalTagFlag = (fn) => {\n  ;\n  fn[DOM_INTERNAL_TAG] = true;\n  return fn;\n};\nexport {\n  setInternalTagFlag\n};\n","// src/jsx/dom/context.ts\nimport { DOM_ERROR_HANDLER } from \"../constants.js\";\nimport { globalContexts } from \"../context.js\";\nimport { setInternalTagFlag } from \"./utils.js\";\nvar createContextProviderFunction = (values) => ({ value, children }) => {\n  if (!children) {\n    return void 0;\n  }\n  const props = {\n    children: [\n      {\n        tag: setInternalTagFlag(() => {\n          values.push(value);\n        }),\n        props: {}\n      }\n    ]\n  };\n  if (Array.isArray(children)) {\n    props.children.push(...children.flat());\n  } else {\n    props.children.push(children);\n  }\n  props.children.push({\n    tag: setInternalTagFlag(() => {\n      values.pop();\n    }),\n    props: {}\n  });\n  const res = { tag: \"\", props, type: \"\" };\n  res[DOM_ERROR_HANDLER] = (err) => {\n    values.pop();\n    throw err;\n  };\n  return res;\n};\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = createContextProviderFunction(values);\n  context.values = values;\n  context.Provider = context;\n  globalContexts.push(context);\n  return context;\n};\nexport {\n  createContext,\n  createContextProviderFunction\n};\n","// src/jsx/context.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { JSXFragmentNode } from \"./base.js\";\nimport { DOM_RENDERER } from \"./constants.js\";\nimport { createContextProviderFunction } from \"./dom/context.js\";\nvar globalContexts = [];\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = (props) => {\n    values.push(props.value);\n    let string;\n    try {\n      string = props.children ? (Array.isArray(props.children) ? new JSXFragmentNode(\"\", {}, props.children) : props.children).toString() : \"\";\n    } finally {\n      values.pop();\n    }\n    if (string instanceof Promise) {\n      return string.then((resString) => raw(resString, resString.callbacks));\n    } else {\n      return raw(string);\n    }\n  };\n  context.values = values;\n  context.Provider = context;\n  context[DOM_RENDERER] = createContextProviderFunction(values);\n  globalContexts.push(context);\n  return context;\n};\nvar useContext = (context) => {\n  return context.values.at(-1);\n};\nexport {\n  createContext,\n  globalContexts,\n  useContext\n};\n","// src/jsx/intrinsic-element/common.ts\nvar deDupeKeyMap = {\n  title: [],\n  script: [\"src\"],\n  style: [\"data-href\"],\n  link: [\"href\"],\n  meta: [\"name\", \"httpEquiv\", \"charset\", \"itemProp\"]\n};\nvar domRenderers = {};\nvar dataPrecedenceAttr = \"data-precedence\";\nexport {\n  dataPrecedenceAttr,\n  deDupeKeyMap,\n  domRenderers\n};\n","// src/jsx/children.ts\nvar toArray = (children) => Array.isArray(children) ? children : [children];\nvar Children = {\n  map: (children, fn) => toArray(children).map(fn),\n  forEach: (children, fn) => {\n    toArray(children).forEach(fn);\n  },\n  count: (children) => toArray(children).length,\n  only: (_children) => {\n    const children = toArray(_children);\n    if (children.length !== 1) {\n      throw new Error(\"Children.only() expects only one child\");\n    }\n    return children[0];\n  },\n  toArray\n};\nexport {\n  Children,\n  toArray\n};\n","// src/jsx/utils.ts\nvar normalizeElementKeyMap = /* @__PURE__ */ new Map([\n  [\"className\", \"class\"],\n  [\"htmlFor\", \"for\"],\n  [\"crossOrigin\", \"crossorigin\"],\n  [\"httpEquiv\", \"http-equiv\"],\n  [\"itemProp\", \"itemprop\"],\n  [\"fetchPriority\", \"fetchpriority\"],\n  [\"noModule\", \"nomodule\"],\n  [\"formAction\", \"formaction\"]\n]);\nvar normalizeIntrinsicElementKey = (key) => normalizeElementKeyMap.get(key) || key;\nvar styleObjectForEach = (style, fn) => {\n  for (const [k, v] of Object.entries(style)) {\n    const key = k[0] === \"-\" || !/[A-Z]/.test(k) ? k : k.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\n    fn(\n      key,\n      v == null ? null : typeof v === \"number\" ? !key.match(\n        /^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/\n      ) ? `${v}px` : `${v}` : v\n    );\n  }\n};\nexport {\n  normalizeIntrinsicElementKey,\n  styleObjectForEach\n};\n","// src/jsx/dom/render.ts\nimport { toArray } from \"../children.js\";\nimport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH\n} from \"../constants.js\";\nimport { globalContexts as globalJSXContexts, useContext } from \"../context.js\";\nimport { STASH_EFFECT } from \"../hooks/index.js\";\nimport { normalizeIntrinsicElementKey, styleObjectForEach } from \"../utils.js\";\nimport { createContext } from \"./context.js\";\nvar HONO_PORTAL_ELEMENT = \"_hp\";\nvar eventAliasMap = {\n  Change: \"Input\",\n  DoubleClick: \"DblClick\"\n};\nvar nameSpaceMap = {\n  svg: \"2000/svg\",\n  math: \"1998/Math/MathML\"\n};\nvar buildDataStack = [];\nvar refCleanupMap = /* @__PURE__ */ new WeakMap();\nvar nameSpaceContext = void 0;\nvar getNameSpaceContext = () => nameSpaceContext;\nvar isNodeString = (node) => \"t\" in node;\nvar eventCache = {\n  onClick: [\"click\", false]\n};\nvar getEventSpec = (key) => {\n  if (!key.startsWith(\"on\")) {\n    return void 0;\n  }\n  if (eventCache[key]) {\n    return eventCache[key];\n  }\n  const match = key.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);\n  if (match) {\n    const [, eventName, capture] = match;\n    return eventCache[key] = [(eventAliasMap[eventName] || eventName).toLowerCase(), !!capture];\n  }\n  return void 0;\n};\nvar toAttributeName = (element, key) => nameSpaceContext && element instanceof SVGElement && /[A-Z]/.test(key) && (key in element.style || key.match(/^(?:o|pai|str|u|ve)/)) ? key.replace(/([A-Z])/g, \"-$1\").toLowerCase() : key;\nvar applyProps = (container, attributes, oldAttributes) => {\n  attributes ||= {};\n  for (let key in attributes) {\n    const value = attributes[key];\n    if (key !== \"children\" && (!oldAttributes || oldAttributes[key] !== value)) {\n      key = normalizeIntrinsicElementKey(key);\n      const eventSpec = getEventSpec(key);\n      if (eventSpec) {\n        if (oldAttributes?.[key] !== value) {\n          if (oldAttributes) {\n            container.removeEventListener(eventSpec[0], oldAttributes[key], eventSpec[1]);\n          }\n          if (value != null) {\n            if (typeof value !== \"function\") {\n              throw new Error(`Event handler for \"${key}\" is not a function`);\n            }\n            container.addEventListener(eventSpec[0], value, eventSpec[1]);\n          }\n        }\n      } else if (key === \"dangerouslySetInnerHTML\" && value) {\n        container.innerHTML = value.__html;\n      } else if (key === \"ref\") {\n        let cleanup;\n        if (typeof value === \"function\") {\n          cleanup = value(container) || (() => value(null));\n        } else if (value && \"current\" in value) {\n          value.current = container;\n          cleanup = () => value.current = null;\n        }\n        refCleanupMap.set(container, cleanup);\n      } else if (key === \"style\") {\n        const style = container.style;\n        if (typeof value === \"string\") {\n          style.cssText = value;\n        } else {\n          style.cssText = \"\";\n          if (value != null) {\n            styleObjectForEach(value, style.setProperty.bind(style));\n          }\n        }\n      } else {\n        if (key === \"value\") {\n          const nodeName = container.nodeName;\n          if (nodeName === \"INPUT\" || nodeName === \"TEXTAREA\" || nodeName === \"SELECT\") {\n            ;\n            container.value = value === null || value === void 0 || value === false ? null : value;\n            if (nodeName === \"TEXTAREA\") {\n              container.textContent = value;\n              continue;\n            } else if (nodeName === \"SELECT\") {\n              if (container.selectedIndex === -1) {\n                ;\n                container.selectedIndex = 0;\n              }\n              continue;\n            }\n          }\n        } else if (key === \"checked\" && container.nodeName === \"INPUT\" || key === \"selected\" && container.nodeName === \"OPTION\") {\n          ;\n          container[key] = value;\n        }\n        const k = toAttributeName(container, key);\n        if (value === null || value === void 0 || value === false) {\n          container.removeAttribute(k);\n        } else if (value === true) {\n          container.setAttribute(k, \"\");\n        } else if (typeof value === \"string\" || typeof value === \"number\") {\n          container.setAttribute(k, value);\n        } else {\n          container.setAttribute(k, value.toString());\n        }\n      }\n    }\n  }\n  if (oldAttributes) {\n    for (let key in oldAttributes) {\n      const value = oldAttributes[key];\n      if (key !== \"children\" && !(key in attributes)) {\n        key = normalizeIntrinsicElementKey(key);\n        const eventSpec = getEventSpec(key);\n        if (eventSpec) {\n          container.removeEventListener(eventSpec[0], value, eventSpec[1]);\n        } else if (key === \"ref\") {\n          refCleanupMap.get(container)?.();\n        } else {\n          container.removeAttribute(toAttributeName(container, key));\n        }\n      }\n    }\n  }\n};\nvar invokeTag = (context, node) => {\n  node[DOM_STASH][0] = 0;\n  buildDataStack.push([context, node]);\n  const func = node.tag[DOM_RENDERER] || node.tag;\n  const props = func.defaultProps ? {\n    ...func.defaultProps,\n    ...node.props\n  } : node.props;\n  try {\n    return [func.call(null, props)];\n  } finally {\n    buildDataStack.pop();\n  }\n};\nvar getNextChildren = (node, container, nextChildren, childrenToRemove, callbacks) => {\n  if (node.vR?.length) {\n    childrenToRemove.push(...node.vR);\n    delete node.vR;\n  }\n  if (typeof node.tag === \"function\") {\n    node[DOM_STASH][1][STASH_EFFECT]?.forEach((data) => callbacks.push(data));\n  }\n  node.vC.forEach((child) => {\n    if (isNodeString(child)) {\n      nextChildren.push(child);\n    } else {\n      if (typeof child.tag === \"function\" || child.tag === \"\") {\n        child.c = container;\n        const currentNextChildrenIndex = nextChildren.length;\n        getNextChildren(child, container, nextChildren, childrenToRemove, callbacks);\n        if (child.s) {\n          for (let i = currentNextChildrenIndex; i < nextChildren.length; i++) {\n            nextChildren[i].s = true;\n          }\n          child.s = false;\n        }\n      } else {\n        nextChildren.push(child);\n        if (child.vR?.length) {\n          childrenToRemove.push(...child.vR);\n          delete child.vR;\n        }\n      }\n    }\n  });\n};\nvar findInsertBefore = (node) => {\n  for (; ; node = node.tag === HONO_PORTAL_ELEMENT || !node.vC || !node.pP ? node.nN : node.vC[0]) {\n    if (!node) {\n      return null;\n    }\n    if (node.tag !== HONO_PORTAL_ELEMENT && node.e) {\n      return node.e;\n    }\n  }\n};\nvar removeNode = (node) => {\n  if (!isNodeString(node)) {\n    node[DOM_STASH]?.[1][STASH_EFFECT]?.forEach((data) => data[2]?.());\n    refCleanupMap.get(node.e)?.();\n    if (node.p === 2) {\n      node.vC?.forEach((n) => n.p = 2);\n    }\n    node.vC?.forEach(removeNode);\n  }\n  if (!node.p) {\n    node.e?.remove();\n    delete node.e;\n  }\n  if (typeof node.tag === \"function\") {\n    updateMap.delete(node);\n    fallbackUpdateFnArrayMap.delete(node);\n    delete node[DOM_STASH][3];\n    node.a = true;\n  }\n};\nvar apply = (node, container, isNew) => {\n  node.c = container;\n  applyNodeObject(node, container, isNew);\n};\nvar findChildNodeIndex = (childNodes, child) => {\n  if (!child) {\n    return;\n  }\n  for (let i = 0, len = childNodes.length; i < len; i++) {\n    if (childNodes[i] === child) {\n      return i;\n    }\n  }\n  return;\n};\nvar cancelBuild = Symbol();\nvar applyNodeObject = (node, container, isNew) => {\n  const next = [];\n  const remove = [];\n  const callbacks = [];\n  getNextChildren(node, container, next, remove, callbacks);\n  remove.forEach(removeNode);\n  const childNodes = isNew ? void 0 : container.childNodes;\n  let offset;\n  let insertBeforeNode = null;\n  if (isNew) {\n    offset = -1;\n  } else if (!childNodes.length) {\n    offset = 0;\n  } else {\n    const offsetByNextNode = findChildNodeIndex(childNodes, findInsertBefore(node.nN));\n    if (offsetByNextNode !== void 0) {\n      insertBeforeNode = childNodes[offsetByNextNode];\n      offset = offsetByNextNode;\n    } else {\n      offset = findChildNodeIndex(childNodes, next.find((n) => n.tag !== HONO_PORTAL_ELEMENT && n.e)?.e) ?? -1;\n    }\n    if (offset === -1) {\n      isNew = true;\n    }\n  }\n  for (let i = 0, len = next.length; i < len; i++, offset++) {\n    const child = next[i];\n    let el;\n    if (child.s && child.e) {\n      el = child.e;\n      child.s = false;\n    } else {\n      const isNewLocal = isNew || !child.e;\n      if (isNodeString(child)) {\n        if (child.e && child.d) {\n          child.e.textContent = child.t;\n        }\n        child.d = false;\n        el = child.e ||= document.createTextNode(child.t);\n      } else {\n        el = child.e ||= child.n ? document.createElementNS(child.n, child.tag) : document.createElement(child.tag);\n        applyProps(el, child.props, child.pP);\n        applyNodeObject(child, el, isNewLocal);\n      }\n    }\n    if (child.tag === HONO_PORTAL_ELEMENT) {\n      offset--;\n    } else if (isNew) {\n      if (!el.parentNode) {\n        container.appendChild(el);\n      }\n    } else if (childNodes[offset] !== el && childNodes[offset - 1] !== el) {\n      if (childNodes[offset + 1] === el) {\n        container.appendChild(childNodes[offset]);\n      } else {\n        container.insertBefore(el, insertBeforeNode || childNodes[offset] || null);\n      }\n    }\n  }\n  if (node.pP) {\n    delete node.pP;\n  }\n  if (callbacks.length) {\n    const useLayoutEffectCbs = [];\n    const useEffectCbs = [];\n    callbacks.forEach(([, useLayoutEffectCb, , useEffectCb, useInsertionEffectCb]) => {\n      if (useLayoutEffectCb) {\n        useLayoutEffectCbs.push(useLayoutEffectCb);\n      }\n      if (useEffectCb) {\n        useEffectCbs.push(useEffectCb);\n      }\n      useInsertionEffectCb?.();\n    });\n    useLayoutEffectCbs.forEach((cb) => cb());\n    if (useEffectCbs.length) {\n      requestAnimationFrame(() => {\n        useEffectCbs.forEach((cb) => cb());\n      });\n    }\n  }\n};\nvar isSameContext = (oldContexts, newContexts) => !!(oldContexts && oldContexts.length === newContexts.length && oldContexts.every((ctx, i) => ctx[1] === newContexts[i][1]));\nvar fallbackUpdateFnArrayMap = /* @__PURE__ */ new WeakMap();\nvar build = (context, node, children) => {\n  const buildWithPreviousChildren = !children && node.pC;\n  if (children) {\n    node.pC ||= node.vC;\n  }\n  let foundErrorHandler;\n  try {\n    children ||= typeof node.tag == \"function\" ? invokeTag(context, node) : toArray(node.props.children);\n    if (children[0]?.tag === \"\" && children[0][DOM_ERROR_HANDLER]) {\n      foundErrorHandler = children[0][DOM_ERROR_HANDLER];\n      context[5].push([context, foundErrorHandler, node]);\n    }\n    const oldVChildren = buildWithPreviousChildren ? [...node.pC] : node.vC ? [...node.vC] : void 0;\n    const vChildren = [];\n    let prevNode;\n    for (let i = 0; i < children.length; i++) {\n      if (Array.isArray(children[i])) {\n        children.splice(i, 1, ...children[i].flat());\n      }\n      let child = buildNode(children[i]);\n      if (child) {\n        if (typeof child.tag === \"function\" && !child.tag[DOM_INTERNAL_TAG]) {\n          if (globalJSXContexts.length > 0) {\n            child[DOM_STASH][2] = globalJSXContexts.map((c) => [c, c.values.at(-1)]);\n          }\n          if (context[5]?.length) {\n            child[DOM_STASH][3] = context[5].at(-1);\n          }\n        }\n        let oldChild;\n        if (oldVChildren && oldVChildren.length) {\n          const i2 = oldVChildren.findIndex(\n            isNodeString(child) ? (c) => isNodeString(c) : child.key !== void 0 ? (c) => c.key === child.key && c.tag === child.tag : (c) => c.tag === child.tag\n          );\n          if (i2 !== -1) {\n            oldChild = oldVChildren[i2];\n            oldVChildren.splice(i2, 1);\n          }\n        }\n        if (oldChild) {\n          if (isNodeString(child)) {\n            if (oldChild.t !== child.t) {\n              ;\n              oldChild.t = child.t;\n              oldChild.d = true;\n            }\n            child = oldChild;\n          } else {\n            const pP = oldChild.pP = oldChild.props;\n            oldChild.props = child.props;\n            oldChild.f ||= child.f || node.f;\n            if (typeof child.tag === \"function\") {\n              const oldContexts = oldChild[DOM_STASH][2];\n              oldChild[DOM_STASH][2] = child[DOM_STASH][2] || [];\n              oldChild[DOM_STASH][3] = child[DOM_STASH][3];\n              if (!oldChild.f && ((oldChild.o || oldChild) === child.o || oldChild.tag[DOM_MEMO]?.(pP, oldChild.props)) && isSameContext(oldContexts, oldChild[DOM_STASH][2])) {\n                oldChild.s = true;\n              }\n            }\n            child = oldChild;\n          }\n        } else if (!isNodeString(child) && nameSpaceContext) {\n          const ns = useContext(nameSpaceContext);\n          if (ns) {\n            child.n = ns;\n          }\n        }\n        if (!isNodeString(child) && !child.s) {\n          build(context, child);\n          delete child.f;\n        }\n        vChildren.push(child);\n        if (prevNode && !prevNode.s && !child.s) {\n          for (let p = prevNode; p && !isNodeString(p); p = p.vC?.at(-1)) {\n            p.nN = child;\n          }\n        }\n        prevNode = child;\n      }\n    }\n    node.vR = buildWithPreviousChildren ? [...node.vC, ...oldVChildren || []] : oldVChildren || [];\n    node.vC = vChildren;\n    if (buildWithPreviousChildren) {\n      delete node.pC;\n    }\n  } catch (e) {\n    node.f = true;\n    if (e === cancelBuild) {\n      if (foundErrorHandler) {\n        return;\n      } else {\n        throw e;\n      }\n    }\n    const [errorHandlerContext, errorHandler, errorHandlerNode] = node[DOM_STASH]?.[3] || [];\n    if (errorHandler) {\n      const fallbackUpdateFn = () => update([0, false, context[2]], errorHandlerNode);\n      const fallbackUpdateFnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode) || [];\n      fallbackUpdateFnArray.push(fallbackUpdateFn);\n      fallbackUpdateFnArrayMap.set(errorHandlerNode, fallbackUpdateFnArray);\n      const fallback = errorHandler(e, () => {\n        const fnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode);\n        if (fnArray) {\n          const i = fnArray.indexOf(fallbackUpdateFn);\n          if (i !== -1) {\n            fnArray.splice(i, 1);\n            return fallbackUpdateFn();\n          }\n        }\n      });\n      if (fallback) {\n        if (context[0] === 1) {\n          context[1] = true;\n        } else {\n          build(context, errorHandlerNode, [fallback]);\n          if ((errorHandler.length === 1 || context !== errorHandlerContext) && errorHandlerNode.c) {\n            apply(errorHandlerNode, errorHandlerNode.c, false);\n            return;\n          }\n        }\n        throw cancelBuild;\n      }\n    }\n    throw e;\n  } finally {\n    if (foundErrorHandler) {\n      context[5].pop();\n    }\n  }\n};\nvar buildNode = (node) => {\n  if (node === void 0 || node === null || typeof node === \"boolean\") {\n    return void 0;\n  } else if (typeof node === \"string\" || typeof node === \"number\") {\n    return { t: node.toString(), d: true };\n  } else {\n    if (\"vR\" in node) {\n      node = {\n        tag: node.tag,\n        props: node.props,\n        key: node.key,\n        f: node.f,\n        type: node.tag,\n        ref: node.props.ref,\n        o: node.o || node\n      };\n    }\n    if (typeof node.tag === \"function\") {\n      ;\n      node[DOM_STASH] = [0, []];\n    } else {\n      const ns = nameSpaceMap[node.tag];\n      if (ns) {\n        nameSpaceContext ||= createContext(\"\");\n        node.props.children = [\n          {\n            tag: nameSpaceContext,\n            props: {\n              value: node.n = `http://www.w3.org/${ns}`,\n              children: node.props.children\n            }\n          }\n        ];\n      }\n    }\n    return node;\n  }\n};\nvar replaceContainer = (node, from, to) => {\n  if (node.c === from) {\n    node.c = to;\n    node.vC.forEach((child) => replaceContainer(child, from, to));\n  }\n};\nvar updateSync = (context, node) => {\n  node[DOM_STASH][2]?.forEach(([c, v]) => {\n    c.values.push(v);\n  });\n  try {\n    build(context, node, void 0);\n  } catch {\n    return;\n  }\n  if (node.a) {\n    delete node.a;\n    return;\n  }\n  node[DOM_STASH][2]?.forEach(([c]) => {\n    c.values.pop();\n  });\n  if (context[0] !== 1 || !context[1]) {\n    apply(node, node.c, false);\n  }\n};\nvar updateMap = /* @__PURE__ */ new WeakMap();\nvar currentUpdateSets = [];\nvar update = async (context, node) => {\n  context[5] ||= [];\n  const existing = updateMap.get(node);\n  if (existing) {\n    existing[0](void 0);\n  }\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  updateMap.set(node, [\n    resolve,\n    () => {\n      if (context[2]) {\n        context[2](context, node, (context2) => {\n          updateSync(context2, node);\n        }).then(() => resolve(node));\n      } else {\n        updateSync(context, node);\n        resolve(node);\n      }\n    }\n  ]);\n  if (currentUpdateSets.length) {\n    ;\n    currentUpdateSets.at(-1).add(node);\n  } else {\n    await Promise.resolve();\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  }\n  return promise;\n};\nvar renderNode = (node, container) => {\n  const context = [];\n  context[5] = [];\n  context[4] = true;\n  build(context, node, void 0);\n  context[4] = false;\n  const fragment = document.createDocumentFragment();\n  apply(node, fragment, true);\n  replaceContainer(node, fragment, container);\n  container.replaceChildren(fragment);\n};\nvar render = (jsxNode, container) => {\n  renderNode(buildNode({ tag: \"\", props: { children: jsxNode } }), container);\n};\nvar flushSync = (callback) => {\n  const set = /* @__PURE__ */ new Set();\n  currentUpdateSets.push(set);\n  callback();\n  set.forEach((node) => {\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  });\n  currentUpdateSets.pop();\n};\nvar createPortal = (children, container, key) => ({\n  tag: HONO_PORTAL_ELEMENT,\n  props: {\n    children\n  },\n  key,\n  e: container,\n  p: 1\n});\nexport {\n  build,\n  buildDataStack,\n  buildNode,\n  createPortal,\n  flushSync,\n  getNameSpaceContext,\n  render,\n  renderNode,\n  update\n};\n","// src/jsx/hooks/index.ts\nimport { DOM_STASH } from \"../constants.js\";\nimport { buildDataStack, update } from \"../dom/render.js\";\nvar STASH_SATE = 0;\nvar STASH_EFFECT = 1;\nvar STASH_CALLBACK = 2;\nvar STASH_MEMO = 3;\nvar STASH_REF = 4;\nvar resolvedPromiseValueMap = /* @__PURE__ */ new WeakMap();\nvar isDepsChanged = (prevDeps, deps) => !prevDeps || !deps || prevDeps.length !== deps.length || deps.some((dep, i) => dep !== prevDeps[i]);\nvar viewTransitionState = void 0;\nvar documentStartViewTransition = (cb) => {\n  if (document?.startViewTransition) {\n    return document.startViewTransition(cb);\n  } else {\n    cb();\n    return { finished: Promise.resolve() };\n  }\n};\nvar updateHook = void 0;\nvar viewTransitionHook = (context, node, cb) => {\n  const state = [true, false];\n  let lastVC = node.vC;\n  return documentStartViewTransition(() => {\n    if (lastVC === node.vC) {\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n      lastVC = node.vC;\n    }\n  }).finished.then(() => {\n    if (state[1] && lastVC === node.vC) {\n      state[0] = false;\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n    }\n  });\n};\nvar startViewTransition = (callback) => {\n  updateHook = viewTransitionHook;\n  try {\n    callback();\n  } finally {\n    updateHook = void 0;\n  }\n};\nvar useViewTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  if (viewTransitionState) {\n    viewTransitionState[1] = true;\n  }\n  return [!!viewTransitionState?.[0], startViewTransition];\n};\nvar pendingStack = [];\nvar runCallback = (type, callback) => {\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  pendingStack.push([type, promise]);\n  try {\n    const res = callback();\n    if (res instanceof Promise) {\n      res.then(resolve, resolve);\n    } else {\n      resolve();\n    }\n  } finally {\n    pendingStack.pop();\n  }\n};\nvar startTransition = (callback) => {\n  runCallback(1, callback);\n};\nvar startTransitionHook = (callback) => {\n  runCallback(2, callback);\n};\nvar useTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  const [error, setError] = useState();\n  const [state, updateState] = useState();\n  if (error) {\n    throw error[0];\n  }\n  const startTransitionLocalHook = useCallback(\n    (callback) => {\n      startTransitionHook(() => {\n        updateState((state2) => !state2);\n        let res = callback();\n        if (res instanceof Promise) {\n          res = res.catch((e) => {\n            setError([e]);\n          });\n        }\n        return res;\n      });\n    },\n    [state]\n  );\n  const [context] = buildData;\n  return [context[0] === 2, startTransitionLocalHook];\n};\nvar useDeferredValue = (value, ...rest) => {\n  const [values, setValues] = useState(\n    rest.length ? [rest[0], rest[0]] : [value, value]\n  );\n  if (Object.is(values[1], value)) {\n    return values[1];\n  }\n  pendingStack.push([3, Promise.resolve()]);\n  updateHook = async (context, _, cb) => {\n    cb(context);\n    values[0] = value;\n  };\n  setValues([values[0], value]);\n  updateHook = void 0;\n  pendingStack.pop();\n  return values[0];\n};\nvar useState = (initialState) => {\n  const resolveInitialState = () => typeof initialState === \"function\" ? initialState() : initialState;\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [resolveInitialState(), () => {\n    }];\n  }\n  const [, node] = buildData;\n  const stateArray = node[DOM_STASH][1][STASH_SATE] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return stateArray[hookIndex] ||= [\n    resolveInitialState(),\n    (newState) => {\n      const localUpdateHook = updateHook;\n      const stateData = stateArray[hookIndex];\n      if (typeof newState === \"function\") {\n        newState = newState(stateData[0]);\n      }\n      if (!Object.is(newState, stateData[0])) {\n        stateData[0] = newState;\n        if (pendingStack.length) {\n          const [pendingType, pendingPromise] = pendingStack.at(-1);\n          Promise.all([\n            pendingType === 3 ? node : update([pendingType, false, localUpdateHook], node),\n            pendingPromise\n          ]).then(([node2]) => {\n            if (!node2 || !(pendingType === 2 || pendingType === 3)) {\n              return;\n            }\n            const lastVC = node2.vC;\n            const addUpdateTask = () => {\n              setTimeout(() => {\n                if (lastVC !== node2.vC) {\n                  return;\n                }\n                update([pendingType === 3 ? 1 : 0, false, localUpdateHook], node2);\n              });\n            };\n            requestAnimationFrame(addUpdateTask);\n          });\n        } else {\n          update([0, false, localUpdateHook], node);\n        }\n      }\n    }\n  ];\n};\nvar useReducer = (reducer, initialArg, init) => {\n  const handler = useCallback(\n    (action) => {\n      setState((state2) => reducer(state2, action));\n    },\n    [reducer]\n  );\n  const [state, setState] = useState(() => init ? init(initialArg) : initialArg);\n  return [state, handler];\n};\nvar useEffectCommon = (index, effect, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return;\n  }\n  const [, node] = buildData;\n  const effectDepsArray = node[DOM_STASH][1][STASH_EFFECT] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const [prevDeps, , prevCleanup] = effectDepsArray[hookIndex] ||= [];\n  if (isDepsChanged(prevDeps, deps)) {\n    if (prevCleanup) {\n      prevCleanup();\n    }\n    const runner = () => {\n      data[index] = void 0;\n      data[2] = effect();\n    };\n    const data = [deps, void 0, void 0, void 0, void 0];\n    data[index] = runner;\n    effectDepsArray[hookIndex] = data;\n  }\n};\nvar useEffect = (effect, deps) => useEffectCommon(3, effect, deps);\nvar useLayoutEffect = (effect, deps) => useEffectCommon(1, effect, deps);\nvar useInsertionEffect = (effect, deps) => useEffectCommon(4, effect, deps);\nvar useCallback = (callback, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return callback;\n  }\n  const [, node] = buildData;\n  const callbackArray = node[DOM_STASH][1][STASH_CALLBACK] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = callbackArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    callbackArray[hookIndex] = [callback, deps];\n  } else {\n    callback = callbackArray[hookIndex][0];\n  }\n  return callback;\n};\nvar useRef = (initialValue) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return { current: initialValue };\n  }\n  const [, node] = buildData;\n  const refArray = node[DOM_STASH][1][STASH_REF] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return refArray[hookIndex] ||= { current: initialValue };\n};\nvar use = (promise) => {\n  const cachedRes = resolvedPromiseValueMap.get(promise);\n  if (cachedRes) {\n    if (cachedRes.length === 2) {\n      throw cachedRes[1];\n    }\n    return cachedRes[0];\n  }\n  promise.then(\n    (res) => resolvedPromiseValueMap.set(promise, [res]),\n    (e) => resolvedPromiseValueMap.set(promise, [void 0, e])\n  );\n  throw promise;\n};\nvar useMemo = (factory, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return factory();\n  }\n  const [, node] = buildData;\n  const memoArray = node[DOM_STASH][1][STASH_MEMO] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = memoArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    memoArray[hookIndex] = [factory(), deps];\n  }\n  return memoArray[hookIndex][0];\n};\nvar idCounter = 0;\nvar useId = () => useMemo(() => `:r${(idCounter++).toString(32)}:`, []);\nvar useDebugValue = (_value, _formatter) => {\n};\nvar createRef = () => {\n  return { current: null };\n};\nvar forwardRef = (Component) => {\n  return (props) => {\n    const { ref, ...rest } = props;\n    return Component(rest, ref);\n  };\n};\nvar useImperativeHandle = (ref, createHandle, deps) => {\n  useEffect(() => {\n    ref.current = createHandle();\n    return () => {\n      ref.current = null;\n    };\n  }, deps);\n};\nvar useSyncExternalStore = (subscribe, getSnapshot, getServerSnapshot) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    if (!getServerSnapshot) {\n      throw new Error(\"getServerSnapshot is required for server side rendering\");\n    }\n    return getServerSnapshot();\n  }\n  const [serverSnapshotIsUsed] = useState(!!(buildData[0][4] && getServerSnapshot));\n  const [state, setState] = useState(\n    () => serverSnapshotIsUsed ? getServerSnapshot() : getSnapshot()\n  );\n  useEffect(() => {\n    if (serverSnapshotIsUsed) {\n      setState(getSnapshot());\n    }\n    return subscribe(() => {\n      setState(getSnapshot());\n    });\n  }, []);\n  return state;\n};\nexport {\n  STASH_EFFECT,\n  createRef,\n  forwardRef,\n  startTransition,\n  startViewTransition,\n  use,\n  useCallback,\n  useDebugValue,\n  useDeferredValue,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useInsertionEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n  useSyncExternalStore,\n  useTransition,\n  useViewTransition\n};\n","// src/jsx/dom/hooks/index.ts\nimport { PERMALINK } from \"../../constants.js\";\nimport { useContext } from \"../../context.js\";\nimport { useCallback, useState } from \"../../hooks/index.js\";\nimport { createContext } from \"../context.js\";\nvar FormContext = createContext({\n  pending: false,\n  data: null,\n  method: null,\n  action: null\n});\nvar actions = /* @__PURE__ */ new Set();\nvar registerAction = (action) => {\n  actions.add(action);\n  action.finally(() => actions.delete(action));\n};\nvar useFormStatus = () => {\n  return useContext(FormContext);\n};\nvar useOptimistic = (state, updateState) => {\n  const [optimisticState, setOptimisticState] = useState(state);\n  if (actions.size > 0) {\n    Promise.all(actions).finally(() => {\n      setOptimisticState(state);\n    });\n  } else {\n    setOptimisticState(state);\n  }\n  const cb = useCallback((newData) => {\n    setOptimisticState((currentState) => updateState(currentState, newData));\n  }, []);\n  return [optimisticState, cb];\n};\nvar useActionState = (fn, initialState, permalink) => {\n  const [state, setState] = useState(initialState);\n  const actionState = async (data) => {\n    setState(await fn(state, data));\n  };\n  actionState[PERMALINK] = permalink;\n  return [state, actionState];\n};\nexport {\n  FormContext,\n  registerAction,\n  useActionState,\n  useFormStatus,\n  useOptimistic\n};\n","// src/jsx/dom/intrinsic-element/components.ts\nimport { useContext } from \"../../context.js\";\nimport { use, useCallback, useMemo, useState } from \"../../hooks/index.js\";\nimport { dataPrecedenceAttr, deDupeKeyMap, domRenderers } from \"../../intrinsic-element/common.js\";\nimport { FormContext, registerAction } from \"../hooks/index.js\";\nimport { createPortal, getNameSpaceContext } from \"../render.js\";\nvar clearCache = () => {\n  blockingPromiseMap = /* @__PURE__ */ Object.create(null);\n  createdElements = /* @__PURE__ */ Object.create(null);\n};\nvar composeRef = (ref, cb) => {\n  return useMemo(\n    () => (e) => {\n      let refCleanup;\n      if (ref) {\n        if (typeof ref === \"function\") {\n          refCleanup = ref(e) || (() => {\n            ref(null);\n          });\n        } else if (ref && \"current\" in ref) {\n          ref.current = e;\n          refCleanup = () => {\n            ref.current = null;\n          };\n        }\n      }\n      const cbCleanup = cb(e);\n      return () => {\n        cbCleanup?.();\n        refCleanup?.();\n      };\n    },\n    [ref]\n  );\n};\nvar blockingPromiseMap = /* @__PURE__ */ Object.create(null);\nvar createdElements = /* @__PURE__ */ Object.create(null);\nvar documentMetadataTag = (tag, props, preserveNodeType, supportSort, supportBlocking) => {\n  if (props?.itemProp) {\n    return {\n      tag,\n      props,\n      type: tag,\n      ref: props.ref\n    };\n  }\n  const head = document.head;\n  let { onLoad, onError, precedence, blocking, ...restProps } = props;\n  let element = null;\n  let created = false;\n  const deDupeKeys = deDupeKeyMap[tag];\n  let existingElements = void 0;\n  if (deDupeKeys.length > 0) {\n    const tags = head.querySelectorAll(tag);\n    LOOP:\n      for (const e of tags) {\n        for (const key of deDupeKeyMap[tag]) {\n          if (e.getAttribute(key) === props[key]) {\n            element = e;\n            break LOOP;\n          }\n        }\n      }\n    if (!element) {\n      const cacheKey = deDupeKeys.reduce(\n        (acc, key) => props[key] === void 0 ? acc : `${acc}-${key}-${props[key]}`,\n        tag\n      );\n      created = !createdElements[cacheKey];\n      element = createdElements[cacheKey] ||= (() => {\n        const e = document.createElement(tag);\n        for (const key of deDupeKeys) {\n          if (props[key] !== void 0) {\n            e.setAttribute(key, props[key]);\n          }\n          if (props.rel) {\n            e.setAttribute(\"rel\", props.rel);\n          }\n        }\n        return e;\n      })();\n    }\n  } else {\n    existingElements = head.querySelectorAll(tag);\n  }\n  precedence = supportSort ? precedence ?? \"\" : void 0;\n  if (supportSort) {\n    restProps[dataPrecedenceAttr] = precedence;\n  }\n  const insert = useCallback(\n    (e) => {\n      if (deDupeKeys.length > 0) {\n        let found = false;\n        for (const existingElement of head.querySelectorAll(tag)) {\n          if (found && existingElement.getAttribute(dataPrecedenceAttr) !== precedence) {\n            head.insertBefore(e, existingElement);\n            return;\n          }\n          if (existingElement.getAttribute(dataPrecedenceAttr) === precedence) {\n            found = true;\n          }\n        }\n        head.appendChild(e);\n      } else if (existingElements) {\n        let found = false;\n        for (const existingElement of existingElements) {\n          if (existingElement === e) {\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          head.insertBefore(\n            e,\n            head.contains(existingElements[0]) ? existingElements[0] : head.querySelector(tag)\n          );\n        }\n        existingElements = void 0;\n      }\n    },\n    [precedence]\n  );\n  const ref = composeRef(props.ref, (e) => {\n    const key = deDupeKeys[0];\n    if (preserveNodeType === 2) {\n      e.innerHTML = \"\";\n    }\n    if (created || existingElements) {\n      insert(e);\n    }\n    if (!onError && !onLoad) {\n      return;\n    }\n    let promise = blockingPromiseMap[e.getAttribute(key)] ||= new Promise(\n      (resolve, reject) => {\n        e.addEventListener(\"load\", resolve);\n        e.addEventListener(\"error\", reject);\n      }\n    );\n    if (onLoad) {\n      promise = promise.then(onLoad);\n    }\n    if (onError) {\n      promise = promise.catch(onError);\n    }\n    promise.catch(() => {\n    });\n  });\n  if (supportBlocking && blocking === \"render\") {\n    const key = deDupeKeyMap[tag][0];\n    if (props[key]) {\n      const value = props[key];\n      const promise = blockingPromiseMap[value] ||= new Promise((resolve, reject) => {\n        insert(element);\n        element.addEventListener(\"load\", resolve);\n        element.addEventListener(\"error\", reject);\n      });\n      use(promise);\n    }\n  }\n  const jsxNode = {\n    tag,\n    type: tag,\n    props: {\n      ...restProps,\n      ref\n    },\n    ref\n  };\n  jsxNode.p = preserveNodeType;\n  if (element) {\n    jsxNode.e = element;\n  }\n  return createPortal(\n    jsxNode,\n    head\n  );\n};\nvar title = (props) => {\n  const nameSpaceContext = getNameSpaceContext();\n  const ns = nameSpaceContext && useContext(nameSpaceContext);\n  if (ns?.endsWith(\"svg\")) {\n    return {\n      tag: \"title\",\n      props,\n      type: \"title\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"title\", props, void 0, false, false);\n};\nvar script = (props) => {\n  if (!props || [\"src\", \"async\"].some((k) => !props[k])) {\n    return {\n      tag: \"script\",\n      props,\n      type: \"script\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"script\", props, 1, false, true);\n};\nvar style = (props) => {\n  if (!props || ![\"href\", \"precedence\"].every((k) => k in props)) {\n    return {\n      tag: \"style\",\n      props,\n      type: \"style\",\n      ref: props.ref\n    };\n  }\n  props[\"data-href\"] = props.href;\n  delete props.href;\n  return documentMetadataTag(\"style\", props, 2, true, true);\n};\nvar link = (props) => {\n  if (!props || [\"onLoad\", \"onError\"].some((k) => k in props) || props.rel === \"stylesheet\" && (!(\"precedence\" in props) || \"disabled\" in props)) {\n    return {\n      tag: \"link\",\n      props,\n      type: \"link\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"link\", props, 1, \"precedence\" in props, true);\n};\nvar meta = (props) => {\n  return documentMetadataTag(\"meta\", props, void 0, false, false);\n};\nvar customEventFormAction = Symbol();\nvar form = (props) => {\n  const { action, ...restProps } = props;\n  if (typeof action !== \"function\") {\n    ;\n    restProps.action = action;\n  }\n  const [state, setState] = useState([null, false]);\n  const onSubmit = useCallback(\n    async (ev) => {\n      const currentAction = ev.isTrusted ? action : ev.detail[customEventFormAction];\n      if (typeof currentAction !== \"function\") {\n        return;\n      }\n      ev.preventDefault();\n      const formData = new FormData(ev.target);\n      setState([formData, true]);\n      const actionRes = currentAction(formData);\n      if (actionRes instanceof Promise) {\n        registerAction(actionRes);\n        await actionRes;\n      }\n      setState([null, true]);\n    },\n    []\n  );\n  const ref = composeRef(props.ref, (el) => {\n    el.addEventListener(\"submit\", onSubmit);\n    return () => {\n      el.removeEventListener(\"submit\", onSubmit);\n    };\n  });\n  const [data, isDirty] = state;\n  state[1] = false;\n  return {\n    tag: FormContext,\n    props: {\n      value: {\n        pending: data !== null,\n        data,\n        method: data ? \"post\" : null,\n        action: data ? action : null\n      },\n      children: {\n        tag: \"form\",\n        props: {\n          ...restProps,\n          ref\n        },\n        type: \"form\",\n        ref\n      }\n    },\n    f: isDirty\n  };\n};\nvar formActionableElement = (tag, {\n  formAction,\n  ...props\n}) => {\n  if (typeof formAction === \"function\") {\n    const onClick = useCallback((ev) => {\n      ev.preventDefault();\n      ev.currentTarget.form.dispatchEvent(\n        new CustomEvent(\"submit\", { detail: { [customEventFormAction]: formAction } })\n      );\n    }, []);\n    props.ref = composeRef(props.ref, (el) => {\n      el.addEventListener(\"click\", onClick);\n      return () => {\n        el.removeEventListener(\"click\", onClick);\n      };\n    });\n  }\n  return {\n    tag,\n    props,\n    type: tag,\n    ref: props.ref\n  };\n};\nvar input = (props) => formActionableElement(\"input\", props);\nvar button = (props) => formActionableElement(\"button\", props);\nObject.assign(domRenderers, {\n  title,\n  script,\n  style,\n  link,\n  meta,\n  form,\n  input,\n  button\n});\nexport {\n  button,\n  clearCache,\n  composeRef,\n  form,\n  input,\n  link,\n  meta,\n  script,\n  style,\n  title\n};\n","// src/jsx/dom/jsx-dev-runtime.ts\nimport * as intrinsicElementTags from \"./intrinsic-element/components.js\";\nvar jsxDEV = (tag, props, key) => {\n  if (typeof tag === \"string\" && intrinsicElementTags[tag]) {\n    tag = intrinsicElementTags[tag];\n  }\n  return {\n    tag,\n    type: tag,\n    props,\n    key,\n    ref: props.ref\n  };\n};\nvar Fragment = (props) => jsxDEV(\"\", props, void 0);\nexport {\n  Fragment,\n  jsxDEV\n};\n","// src/jsx/dom/index.ts\nimport { isValidElement, reactAPICompatVersion, shallowEqual } from \"../base.js\";\nimport { Children } from \"../children.js\";\nimport { DOM_MEMO } from \"../constants.js\";\nimport { useContext } from \"../context.js\";\nimport {\n  createRef,\n  forwardRef,\n  startTransition,\n  startViewTransition,\n  use,\n  useCallback,\n  useDebugValue,\n  useDeferredValue,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useInsertionEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n  useSyncExternalStore,\n  useTransition,\n  useViewTransition\n} from \"../hooks/index.js\";\nimport { ErrorBoundary, Suspense } from \"./components.js\";\nimport { createContext } from \"./context.js\";\nimport { useActionState, useFormStatus, useOptimistic } from \"./hooks/index.js\";\nimport { Fragment, jsx } from \"./jsx-runtime.js\";\nimport { createPortal, flushSync } from \"./render.js\";\nimport { render } from \"./render.js\";\nvar createElement = (tag, props, ...children) => {\n  const jsxProps = props ? { ...props } : {};\n  if (children.length) {\n    jsxProps.children = children.length === 1 ? children[0] : children;\n  }\n  let key = void 0;\n  if (\"key\" in jsxProps) {\n    key = jsxProps.key;\n    delete jsxProps.key;\n  }\n  return jsx(tag, jsxProps, key);\n};\nvar cloneElement = (element, props, ...children) => {\n  return jsx(\n    element.tag,\n    {\n      ...element.props,\n      ...props,\n      children: children.length ? children : element.props.children\n    },\n    element.key\n  );\n};\nvar memo = (component, propsAreEqual = shallowEqual) => {\n  const wrapper = (props) => component(props);\n  wrapper[DOM_MEMO] = propsAreEqual;\n  return wrapper;\n};\nvar dom_default = {\n  version: reactAPICompatVersion,\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  use,\n  startTransition,\n  useTransition,\n  useDeferredValue,\n  startViewTransition,\n  useViewTransition,\n  useMemo,\n  useLayoutEffect,\n  useInsertionEffect,\n  useReducer,\n  useId,\n  useDebugValue,\n  createRef,\n  forwardRef,\n  useImperativeHandle,\n  useSyncExternalStore,\n  useFormStatus,\n  useActionState,\n  useOptimistic,\n  Suspense,\n  ErrorBoundary,\n  createContext,\n  useContext,\n  memo,\n  isValidElement,\n  createElement,\n  cloneElement,\n  Children,\n  Fragment,\n  StrictMode: Fragment,\n  flushSync,\n  createPortal\n};\nexport {\n  Children,\n  ErrorBoundary,\n  Fragment,\n  Fragment as StrictMode,\n  Suspense,\n  cloneElement,\n  createContext,\n  createElement,\n  createPortal,\n  createRef,\n  dom_default as default,\n  flushSync,\n  forwardRef,\n  isValidElement,\n  createElement as jsx,\n  memo,\n  render,\n  startTransition,\n  startViewTransition,\n  use,\n  useActionState,\n  useCallback,\n  useContext,\n  useDebugValue,\n  useDeferredValue,\n  useEffect,\n  useFormStatus,\n  useId,\n  useImperativeHandle,\n  useInsertionEffect,\n  useLayoutEffect,\n  useMemo,\n  useOptimistic,\n  useReducer,\n  useRef,\n  useState,\n  useSyncExternalStore,\n  useTransition,\n  useViewTransition,\n  reactAPICompatVersion as version\n};\n","const COMPONENT_NAME = \"component-name\";\nconst COMPONENT_EXPORT = \"component-export\";\nconst DATA_SERIALIZED_PROPS = \"data-serialized-props\";\nconst DATA_HONO_TEMPLATE = \"data-hono-template\";\nconst IMPORTING_ISLANDS_ID = \"__importing_islands\";\nexport {\n  COMPONENT_EXPORT,\n  COMPONENT_NAME,\n  DATA_HONO_TEMPLATE,\n  DATA_SERIALIZED_PROPS,\n  IMPORTING_ISLANDS_ID\n};\n","import { render, createElement as createElementHono } from \"hono/jsx/dom\";\nimport {\n  COMPONENT_EXPORT,\n  COMPONENT_NAME,\n  DATA_HONO_TEMPLATE,\n  DATA_SERIALIZED_PROPS\n} from \"../constants.js\";\nconst createClient = async (options) => {\n  const FILES = options?.ISLAND_FILES ?? {\n    ...import.meta.glob(\"/app/islands/**/[a-zA-Z0-9-]+.tsx\"),\n    ...import.meta.glob(\"/app/**/_[a-zA-Z0-9-]+.island.tsx\"),\n    ...import.meta.glob(\"/app/**/$[a-zA-Z0-9-]+.tsx\")\n  };\n  const hydrateComponent = async (document2) => {\n    const filePromises = Object.keys(FILES).map(async (filePath) => {\n      const componentName = filePath;\n      const elements = document2.querySelectorAll(\n        `[${COMPONENT_NAME}=\"${componentName}\"]:not([data-hono-hydrated])`\n      );\n      if (elements) {\n        const elementPromises = Array.from(elements).map(async (element) => {\n          element.setAttribute(\"data-hono-hydrated\", \"true\");\n          const exportName = element.getAttribute(COMPONENT_EXPORT) || \"default\";\n          const fileCallback = FILES[filePath];\n          const file = await fileCallback();\n          const Component = await file[exportName];\n          const serializedProps = element.attributes.getNamedItem(DATA_SERIALIZED_PROPS)?.value;\n          const props = JSON.parse(serializedProps ?? \"{}\");\n          const hydrate = options?.hydrate ?? render;\n          const createElement = options?.createElement ?? createElementHono;\n          let maybeTemplate = element.childNodes[element.childNodes.length - 1];\n          while (maybeTemplate?.nodeName === \"TEMPLATE\") {\n            const propKey = maybeTemplate.getAttribute(DATA_HONO_TEMPLATE);\n            if (propKey == null) {\n              break;\n            }\n            let createChildren = options?.createChildren;\n            if (!createChildren) {\n              const { buildCreateChildrenFn } = await import(\"./runtime\");\n              createChildren = buildCreateChildrenFn(\n                createElement,\n                async (name) => (await FILES[`${name}`]()).default\n              );\n            }\n            props[propKey] = await createChildren(\n              maybeTemplate.content.childNodes\n            );\n            maybeTemplate = maybeTemplate.previousSibling;\n          }\n          const newElem = await createElement(Component, props);\n          await hydrate(newElem, element);\n        });\n        await Promise.all(elementPromises);\n      }\n    });\n    await Promise.all(filePromises);\n  };\n  const triggerHydration = options?.triggerHydration ?? (async (hydrateComponent2) => {\n    if (document.querySelector('template[id^=\"H:\"], template[id^=\"E:\"]')) {\n      const { hydrateComponentHonoSuspense } = await import(\"./runtime\");\n      await hydrateComponentHonoSuspense(hydrateComponent2);\n    }\n    await hydrateComponent2(document);\n  });\n  await triggerHydration?.(hydrateComponent);\n};\nexport {\n  createClient\n};\n","import { createClient } from 'honox/client'\ncreateClient()"],"file":"static/client-DjfugxOI.js"}